(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/spontanowity-vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function i(t,e,n,i,o,r){var c=Object(a["i"])("Main");return Object(a["e"])(),Object(a["c"])(c)}n("b0c0");var o={id:"main",class:"container-fluid"},r={class:"row"},c={class:"col-6"},s={class:"w-auto",id:"map",ref:"map"},u={class:"col-6"};function l(t,e,n,i,l,d){var p=Object(a["i"])("TheHeader"),b=Object(a["i"])("Activities"),m=Object(a["i"])("Inputs");return Object(a["e"])(),Object(a["c"])("div",o,[Object(a["d"])(p),Object(a["d"])("div",r,[Object(a["d"])("div",c,[Object(a["d"])("section",null,[Object(a["d"])("div",s,null,512)])]),Object(a["d"])("div",u,[Object(a["d"])(b,{location:d.chosenLocation,name:l.nearbyPlaceDetails.name,url:l.nearbyPlaceDetails.url,address:l.nearbyPlaceDetails.formatted_address,locations:l.locations},null,8,["location","name","url","address","locations"]),Object(a["d"])(m,{"onButton-click":d.handleButtonClick,locations:l.locations},null,8,["onButton-click","locations"])])])])}n("d81d"),n("b64b"),n("d3b7"),n("96cf");var d=n("1da1"),p=Object(a["o"])("data-v-0c2260bc");Object(a["g"])("data-v-0c2260bc");var b={id:"activities"},m=Object(a["d"])("h2",null,"Your Location:",-1),g={key:0},h={key:1},f=Object(a["d"])("p",null,"Generating your random location...",-1),O=Object(a["d"])("br",null,null,-1),v=Object(a["d"])("h2",{id:"secondHeading"},"Your Activity:",-1);Object(a["f"])();var j=p((function(t,e,n,i,o,r){return Object(a["e"])(),Object(a["c"])("section",b,[m,n.name?(Object(a["e"])(),Object(a["c"])("div",g,[Object(a["d"])("p",null,"You'll be going to "+Object(a["j"])(n.name)+"!",1),Object(a["d"])("p",null,Object(a["j"])(n.address),1),Object(a["d"])("a",{href:n.url,target:"_blank"},"Go to Google Maps!",8,["href"])])):(Object(a["e"])(),Object(a["c"])("div",h,[f])),O,v,Object(a["d"])("p",null,Object(a["j"])(r.activityResult),1)])})),y=(n("4160"),n("159b"),6371e3),w=Math.PI/180,P=3*Math.PI,k=2*Math.PI;function R(t){return!isNaN(parseFloat(t))&&isFinite(t)}function M(t,e){if(t instanceof Array)return t.map((function(t){return M(t,e)}));if(t instanceof Object){for(var n in t=JSON.parse(JSON.stringify(t)),t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=M(t[n],e));return t}return R(t)?e(t):void 0}function x(t){return M(t,(function(t){return t*w}))}function S(t){return M(t,(function(t){return t/w}))}function L(t,e){var n={},a=x(t),i=Math.sin(a.latitude),o=Math.cos(a.latitude),r=Math.random()*k,c=e/y,s=Math.sin(r),u=Math.cos(r),l=Math.sin(c),d=Math.cos(c);return n.latitude=Math.asin(i*d+o*l*u),n.longitude=a.longitude+Math.atan2(s*l*o,d-i*Math.sin(n.latitude)),n.longitude=(n.longitude+P)%k-Math.PI,S(n)}function A(t,e,n){var a=Math.random(),i=Math.sqrt(a)*n;while(i<=e)a=Math.random(),i=Math.sqrt(a)*n;return L(t,i)}function _(t){return Math.floor(Math.random()*Math.floor(t))}function D(t){return 1609.344*t}var I={name:"Activities",computed:{activityResult:function(){var t=[];this.activities.general.forEach((function(e){t.push(e)}));for(var e=0,n=Object.keys(this.locations);e<n.length;e++){var a=n[e];"anywhere"!=this.location&&a!=this.location||"anywhere"==a||this.activities[a].forEach((function(e){t.push(e)}))}return t[_(t.length)]}},data:function(){return{activities:{general:["Say hi to the first person you see!"],library:["Check out a book!","Ask the librarian to recommend a book!","Read a book on South American history!","Study in the library's reading room!"],park:["Have a picnic!","Go for a walk!","Do some birdwatching!","Try to identify tree species!","Play hide and go seek!"],restaurant:["Eat only appetizers!","Order every dessert!","Get something vegetarian!","Order the 5th thing on the menu!"]}}},props:{name:String,location:String,locations:Object,url:String,address:String}};n("7d03");I.render=j,I.__scopeId="data-v-0c2260bc";var B=I,C=Object(a["o"])("data-v-1783d007");Object(a["g"])("data-v-1783d007");var T={id:"inputs"},G=Object(a["d"])("h2",null,"Change the parameters!",-1),N={class:"input-group mb-3"},H=Object(a["d"])("div",{class:"input-group-prepend"},[Object(a["d"])("span",{class:"input-group-text"},"Minimum Range (mi)")],-1),J={class:"input-group mb-3"},V=Object(a["d"])("div",{class:"input-group-prepend"},[Object(a["d"])("span",{class:"input-group-text"},"Maximum Range (mi)")],-1),Y={class:"input-group mb-3"},E=Object(a["d"])("div",{class:"input-group-prepend"},[Object(a["d"])("span",{class:"input-group-text"},"Location Type")],-1),z=Object(a["d"])("button",{class:"btn btn-success m-2"},"Generate",-1);Object(a["f"])();var F=C((function(t,e,n,i,o,r){return Object(a["e"])(),Object(a["c"])("section",T,[G,Object(a["d"])("form",{onSubmit:e[4]||(e[4]=Object(a["n"])((function(){return r.handleButtonClick.apply(r,arguments)}),["prevent"]))},[Object(a["d"])("div",N,[H,Object(a["m"])(Object(a["d"])("input",{type:"number",class:"form-control",placeholder:"Minimum distance you want to travel?","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.minRange=t})},null,512),[[a["l"],o.minRange]])]),Object(a["d"])("div",J,[V,Object(a["m"])(Object(a["d"])("input",{type:"number",class:"form-control",placeholder:"How many miles away are you willing to travel?","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.maxRange=t})},null,512),[[a["l"],o.maxRange]])]),Object(a["d"])("div",Y,[E,Object(a["m"])(Object(a["d"])("select",{class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.location=t})},[(Object(a["e"])(!0),Object(a["c"])(a["a"],null,Object(a["h"])(Object.keys(n.locations),(function(t){return Object(a["e"])(),Object(a["c"])("option",{key:t,value:t},Object(a["j"])(n.locations[t]),9,["value"])})),128))],512),[[a["k"],o.location]])]),z],32)])})),U=(n("a9e3"),{name:"Inputs",data:function(){return{maxRange:3,minRange:1,location:"anywhere"}},methods:{handleButtonClick:function(){this.minRange=Number(this.minRange),this.maxRange=Number(this.maxRange),(this.minRange<0||""===this.minRange)&&(this.minRange=0),(this.maxRange<=this.minRange+1||""===this.maxRange)&&(this.maxRange=this.minRange+1),this.$emit("button-click",this.minRange,this.maxRange,this.location)}},props:{locations:Object}});n("e885");U.render=F,U.__scopeId="data-v-1783d007";var q=U,Z=Object(a["d"])("div",{id:"heading"},[Object(a["d"])("h1",{class:"mt-3"},"Spontanowity"),Object(a["d"])("p",null,"Explore new places!")],-1);function $(t,e,n,i,o,r){return Object(a["e"])(),Object(a["c"])("header",null,[Z])}var K={};n("ad90");K.render=$;var W=K,Q={"api-key":"AIzaSyAWfBp_l7JJoLYj0AOlHNThBvFbY4ickTg"},X={name:"Main",components:{Activities:B,Inputs:q,TheHeader:W},data:function(){return{apiKey:Q["api-key"],map:null,nearbyPlaceDetails:{},placeMarker:null,service:null,userMarker:null,userPosition:{},inputs:{maxRange:3,minRange:1,location:"anywhere"},locations:{anywhere:"Anywhere!",library:"Library",park:"Park",restaurant:"Restaurant"}}},mounted:function(){this.setPosition(),setTimeout(this.renderMap,500),setTimeout(this.setRandomPlace,1e3)},methods:{nearbySearchAsPromise:function(t){var e=this;return new Promise((function(n){e.service.nearbySearch(t,(function(t){n(t)}))}))},setRandomPlace:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o,r,c,s,u,l,d,p,b,m,g,h,f,O,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.placeMarker&&t.renderMap(),a=0,i=1500;case 3:if(n&&n.length){e.next=14;break}return o=t.getRandomPosition(D(t.inputs["minRange"]),D(t.inputs["maxRange"])),r=t.chosenLocation,c={location:new window.google.maps.LatLng(o["lat"],o["lng"]),radius:i,type:r},e.next=9,t.nearbySearchAsPromise(c);case 9:n=e.sent,a++,a>150&&(i+=1500,a=0),e.next=3;break;case 14:return s=["url","name","type","formatted_address"],u=_(n.length),l=n[u],e.next=19,t.getPlaceDetails(l,s);case 19:d=e.sent,t.nearbyPlaceDetails=d,t.placeMarker=new window.google.maps.Marker({position:{lat:l.geometry.location.lat(),lng:l.geometry.location.lng()},map:t.map,title:t.nearbyPlaceDetails["name"]}),p=new window.google.maps.LatLng(t.userPosition["lat"],t.userPosition["lng"]),b=new window.google.maps.LatLng(l.geometry.location.lat(),l.geometry.location.lng()),m=new window.google.maps.LatLngBounds(p,b),g=(t.userPosition["lat"]+l.geometry.location.lat())/2,h=(t.userPosition["lng"]+l.geometry.location.lng())/2,f=new window.google.maps.LatLng(g,h),t.map.fitBounds(m),O=t.map.getZoom(),v=t.inputs["maxRange"]<=3?10:t.inputs["maxRange"]<=8?11:t.inputs["maxRange"]<=10?10:t.inputs["maxRange"]<=12?9:6,t.map.setZoom(O<v?v:O),t.map.setCenter(f);case 33:case"end":return e.stop()}}),e)})))()},getDetailsAsPromise:function(t){var e=this;return new Promise((function(n){e.service.getDetails(t,(function(t){n(t)}))}))},getPlaceDetails:function(t,e){var n=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i&&Object.keys(i).length){a.next=7;break}return o={placeId:t.place_id,fields:e},a.next=4,n.getDetailsAsPromise(o);case 4:i=a.sent,a.next=0;break;case 7:return a.abrupt("return",i);case 8:case"end":return a.stop()}}),a)})))()},getRandomPosition:function(t,e){var n=A({latitude:this.userPosition["lat"],longitude:this.userPosition["lng"]},t,e);return this.randLatValue=n.latitude,this.randLongValue=n.longitude,{lat:n.latitude,lng:n.longitude}},setPosition:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.userPosition={lat:e.coords.latitude,lng:e.coords.longitude}}))},renderMap:function(){this.map=new window.google.maps.Map(this.$refs.map,this.mapConfig);var t=new window.google.maps.Marker({position:{lat:this.userPosition["lat"],lng:this.userPosition["lng"]},map:this.map});this.userMarker=t,this.service=new window.google.maps.places.PlacesService(this.map)},handleButtonClick:function(t,e,n){this.inputs={minRange:t,maxRange:e,location:n},this.setRandomPlace()}},computed:{isGeolocation:function(){return"geolocation"in navigator},mapConfig:function(){return{center:{lat:this.userPosition["lat"],lng:this.userPosition["lng"]},zoom:15}},chosenLocation:function(){if("anywhere"==this.inputs.location){var t=Object.keys(this.locations);return t.shift(),t[_(t.length)]}return this.inputs.location}}};n("b2b1");X.render=l;var tt=X,et={name:"App",components:{Main:tt}};n("64be");et.render=i;var nt=et;Object(a["b"])(nt).mount("#app")},"64be":function(t,e,n){"use strict";n("c894")},"78b9":function(t,e,n){},"7d03":function(t,e,n){"use strict";n("8509")},8509:function(t,e,n){},9736:function(t,e,n){},ad90:function(t,e,n){"use strict";n("9736")},b2b1:function(t,e,n){"use strict";n("bd1f")},bd1f:function(t,e,n){},c894:function(t,e,n){},e885:function(t,e,n){"use strict";n("78b9")}});
//# sourceMappingURL=app.56c04944.js.map